<script>

    //busca la primera ocurrencia de cada script en la lista de requests, lo destaca y crea menu de navegacion con el tiempo total de descarga y acceso rapido
    let busca = (reqs, i, idArr) => {
        var tagArr = ['gpt.js', 'pubads_impl', '/ads?', '/view?'];
        for (var k = 0; k < reqs.length; k++) {
            var reqTitle = reqs[k].innerHTML;
            if (reqTitle.includes(tagArr[i])) {
                var j = 1;
                var nav = document.getElementById(idArr[i]);
                document.querySelector("#" + CSS.escape(reqs[k].id) + "").parentElement.style.background = '#0FA0CE';
                nav.innerHTML = " || " + idArr[i] + ": <a href=#" + reqs[k].id + ">[req " + (j += k) + "]</a> " + reqs[k].dataset.req_ready + "ms ||";

                return;
            }
        }
    }


    let firstView = () => {
        var reqs = document.getElementsByClassName('first_req');
        var idArr = ['first_gpt', 'first_impl', 'first_ads', 'first_view'];
        for (var i = 0; i < 4; i++) {
            busca(reqs, i, idArr);
        }
    }

    let repeatedView = () => {
        var reqs = document.getElementsByClassName('repeated_req');
        var idArr = ['repeated_gpt', 'repeated_impl', 'repeated_ads', 'repeated_view'];
        for (var i = 0; i < 4; i++) {
            busca(reqs, i, idArr);
        }
    }
    
    firstView()
    repeatedView()

</script>